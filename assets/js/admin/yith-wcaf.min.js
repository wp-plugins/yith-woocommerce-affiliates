jQuery(document).ready(function(a){var q=a("#yith_wcaf_history_cookie_enable"),l=a("#yith_wcaf_history_cookie_name"),m=a("#yith_wcaf_history_cookie_expire"),r=a("#yith_wcaf_commission_persistent_calculation"),n=a("#yith_wcaf_persistent_rate"),t=a("#yith_wcaf_payment_type"),g=a("#yith_wcaf_payment_date"),h=a("#yith_wcaf_payment_default_gateway"),k=a("#yith_wcaf_payment_threshold"),u=a("#yith_wcaf_click_auto_delete"),p=a("#yith_wcaf_click_auto_delete_expiration");q.on("change",function(){a(this).is(":checked")?
    (l.parents("tr").show(),m.parents("tr").show()):(l.parents("tr").hide(),m.parents("tr").hide())}).change();r.on("change",function(){a(this).is(":checked")?n.parents("tr").show():n.parents("tr").hide()}).change();t.on("change",function(){var e=a(this).val();"manually"==e?(h.parents("tr").hide(),g.parents("tr").hide(),k.parents("tr").hide()):"automatically_on_threshold"==e?(h.parents("tr").show(),g.parents("tr").hide(),k.parents("tr").show()):"automatically_on_date"==e?(h.parents("tr").show(),g.parents("tr").show(),
    k.parents("tr").hide()):"automatically_on_both"==e&&(h.parents("tr").show(),g.parents("tr").show(),k.parents("tr").show())}).change();u.on("change",function(){a(this).is(":checked")?p.parents("tr").show():p.parents("tr").hide()}).change();a(".yith-affiliates-update-commission").on("click",function(e){var b=a(this),c=b.parents("tr"),d=b.data("affiliate_id"),c=c.find(".column-rate input").val();e.preventDefault();a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},
    data:{action:"yith_wcaf_update_affiliate_commission",affiliate_id:d,rate:c},dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){},url:ajaxurl})});a(".yith-affiliates-delete-commission").on("click",function(e){var b=a(this),c=b.parents("tr"),d=c.parents("tbody"),f=b.data("affiliate_id");e.preventDefault();a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcaf_delete_affiliate_commission",affiliate_id:f},
    dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){c.remove();0==d.find("tr").length&&d.html(yith_wcaf.empty_row)},url:ajaxurl})});a(".yith-products-update-commission").on("click",function(e){var b=a(this),c=b.parents("tr"),d=b.data("product_id"),c=c.find(".column-rate input").val();e.preventDefault();a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcaf_update_product_commission",product_id:d,rate:c},
    dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){},url:ajaxurl})});a(".yith-products-delete-commission").on("click",function(e){var b=a(this),c=b.parents("tr"),d=c.parents("tbody"),f=b.data("product_id");e.preventDefault();a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:"yith_wcaf_delete_product_commission",product_id:f},dataType:"json",method:"POST",complete:function(){b.unblock()},success:function(a){c.remove();
    0==d.find("tr").length&&d.html(yith_wcaf.empty_row)},url:ajaxurl})});a("#yith_wcaf_commission_notes").on("click","a.add_note",function(e){var b=a(this),c=b.parents("#yith_wcaf_commission_notes"),d=c.find("ul"),f=c.find("textarea"),c=f.val(),g=a("#commission_id").val();e.preventDefault();c&&a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){b.unblock()},data:{commission_id:g,note_content:c,action:"yith_wcaf_add_commission_note"},method:"POST",
    success:function(a){a.template&&d.prepend(a.template);0<d.find("li").length&&d.find("li.no_notes").hide();f.val("")},url:ajaxurl})}).on("click","a.delete_note",function(e){var b=a(this),c=b.parents("#yith_wcaf_commission_notes").find("ul"),d=b.parents("li"),b=d.attr("rel");e.preventDefault();b&&a.ajax({beforeSend:function(){d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){d.unblock()},data:{note_id:b,action:"yith_wcaf_delete_commission_note"},method:"POST",success:function(a){d.remove();
    0==c.find("li").not(".no_notes").length&&c.find("li.no_notes").show()},url:ajaxurl})});a("#yith_wcaf_payment_notes").on("click","a.add_note",function(e){var b=a(this),c=b.parents("#yith_wcaf_payment_notes"),d=c.find("ul"),f=c.find("textarea"),c=f.val(),g=a("#payment_id").val();e.preventDefault();c&&a.ajax({beforeSend:function(){b.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){b.unblock()},data:{payment_id:g,note_content:c,action:"yith_wcaf_add_payment_note"},
    method:"POST",success:function(a){a.template&&d.prepend(a.template);0<d.find("li").length&&d.find("li.no_notes").hide();f.val("")},url:ajaxurl})}).on("click","a.delete_note",function(e){var b=a(this),c=b.parents("#yith_wcaf_payment_notes").find("ul"),d=b.parents("li"),b=d.attr("rel");e.preventDefault();b&&a.ajax({beforeSend:function(){d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){d.unblock()},data:{note_id:b,action:"yith_wcaf_delete_payment_note"},method:"POST",
    success:function(a){d.remove();0==c.find("li").not(".no_notes").length&&c.find("li.no_notes").show()},url:ajaxurl})});a(".edit_address_button").on("click",function(e){var b=a(this);e.preventDefault();b.parent().nextAll(".address").toggle();b.parent().nextAll(".edit_address").toggle()});a(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0});0!=yith_wcaf.tabs_badges.commissions&&a(".nav-tab-wrapper").find('[href*="commissions"]').append(' <span class="pending-count">'+
    yith_wcaf.tabs_badges.commissions+"</span>");0!=yith_wcaf.tabs_badges.affiliates&&a(".nav-tab-wrapper").find('[href*="affiliates"]').append(' <span class="pending-count">'+yith_wcaf.tabs_badges.affiliates+"</span>");0!=yith_wcaf.tabs_badges.payments&&a(".nav-tab-wrapper").find('[href*="payments"]').append(' <span class="pending-count">'+yith_wcaf.tabs_badges.payments+"</span>")});